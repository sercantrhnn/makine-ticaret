<!-- Dark Theme Language Switcher Component -->
<div class="language-switcher-container" x-data="{ open: false }">
    <button @click="open = !open" 
            class="language-switcher-btn">
        <svg style="width:14px;height:14px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
        </svg>
        <span>{{ locale_display_name(current_locale()) }}</span>
        <svg style="width:12px;height:12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>

    <div x-show="open" 
         @click.away="open = false"
         x-transition:enter="transition ease-out duration-100"
         x-transition:enter-start="transform opacity-0 scale-95"
         x-transition:enter-end="transform opacity-100 scale-100"
         x-transition:leave="transition ease-in duration-75"
         x-transition:leave-start="transform opacity-100 scale-100"
         x-transition:leave-end="transform opacity-0 scale-95"
         class="language-switcher-dropdown">
        
        <div style="padding:4px 0;">
            {% for locale in supported_locales() %}
                {% if locale != current_locale() %}
                    <a href="{{ locale_switch_url(locale) }}" 
                       class="language-switcher-link"
                       onmouseover="this.style.background='rgba(255,255,255,0.1)'"
                       onmouseout="this.style.background='transparent'">
                        {% if locale == 'tr' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡¹ðŸ‡·</span>
                        {% elseif locale == 'en' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡ºðŸ‡¸</span>
                        {% elseif locale == 'de' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡©ðŸ‡ª</span>
                        {% elseif locale == 'ar' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡¸ðŸ‡¦</span>
                        {% elseif locale == 'ja' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡¯ðŸ‡µ</span>
                        {% elseif locale == 'es' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡ªðŸ‡¸</span>
                        {% elseif locale == 'it' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡®ðŸ‡¹</span>
                        {% elseif locale == 'pt' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡µðŸ‡¹</span>
                        {% elseif locale == 'ru' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡·ðŸ‡º</span>
                        {% elseif locale == 'nl' %}
                            <span style="margin-right:10px;font-size:16px;">ðŸ‡³ðŸ‡±</span>
                        {% endif %}
                        {{ locale_display_name(locale) }}
                    </a>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>

<style>
.language-switcher-container {
    position: relative;
}

.language-switcher-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.2);
    color: #e5e5e5;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 13px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.language-switcher-dropdown {
    position: absolute;
    right: 0;
    z-index: 70;
    margin-top: 8px;
    width: 200px;
    background: #111214;
    border: 1px solid #222428;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.4);
}

.language-switcher-link {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    color: #e5e5e5;
    text-decoration: none;
    font-size: 13px;
    transition: background-color 0.2s ease;
}

/* Mobile responsive styles */
@media (max-width: 768px) {
    .language-switcher-dropdown {
        position: fixed;
        right: 20px;
        top: 50%;
        left: 20px;
        width: auto;
        max-width: calc(100vw - 40px);
        transform: translateY(-50%);
        z-index: 1000;
        max-height: 70vh;
        overflow-y: auto;
    }
    
    .language-switcher-link {
        padding: 12px 16px;
        font-size: 14px;
    }
    
    .language-switcher-btn {
        padding: 8px 12px;
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .language-switcher-dropdown {
        right: 16px;
        left: 16px;
        max-width: calc(100vw - 32px);
    }
    
    .language-switcher-link {
        padding: 10px 14px;
        font-size: 13px;
    }
}
</style>
