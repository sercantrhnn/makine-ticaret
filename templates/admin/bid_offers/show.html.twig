{% extends 'admin/base.html.twig' %}

{% block title %}Teklif Detayı - İhale #{{ bid.id }}{% endblock %}
{% block page_title %}Teklif Detayı - İhale #{{ bid.id }}{% endblock %}

{% block body %}
<div class="space-y-6">
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-bold text-gray-900">Teklif Detayı</h1>
      <p class="text-sm text-gray-500">İhale: {{ bid.product.name }} ({{ bid.company.name }})</p>
    </div>
    <div class="flex items-center gap-2">
      <a href="{{ path('admin_bid_offers', { id: bid.id }) }}" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">Teklif Listesine Dön</a>
      <a href="{{ path('admin_bid_offer_messages', { id: offer.id }) }}" class="inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700">Mesaj Gönder</a>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white shadow rounded-lg p-6 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900">Teklif Bilgileri</h2>
      <div class="text-sm text-gray-700">
        <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Tarih</div><div class="col-span-3">{{ offer.createdAt|date('d.m.Y H:i') }}</div></div>
        <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Teklif</div><div class="col-span-3">{{ offer.currency }} {{ offer.price|number_format(2, ',', '.') }}</div></div>
        <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Teklif Sahibi</div><div class="col-span-3">{{ offer.bidder.name ?? offer.bidder.email }}</div></div>
        {% if offer.message %}
          <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Mesaj</div><div class="col-span-3 whitespace-pre-wrap">{{ offer.message }}</div></div>
        {% endif %}
      </div>
    </div>

    <div class="bg-white shadow rounded-lg p-6 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900">İletişim Bilgileri</h2>
      <div class="text-sm text-gray-700">
        {% if offer.contactPhone %}
          <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Telefon</div><div class="col-span-3">{{ offer.contactPhone }}</div></div>
        {% endif %}
        {% if offer.contactEmail %}
          <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">E-posta</div><div class="col-span-3">{{ offer.contactEmail }}</div></div>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="bg-white shadow rounded-lg p-6">
    <h2 class="text-lg font-semibold text-gray-900 mb-4">İhale / Ürün</h2>
    <div class="text-sm text-gray-700">
      <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">İhale</div><div class="col-span-3">#{{ bid.id }} — {{ bid.product.name }}</div></div>
      <div class="grid grid-cols-4 gap-2 py-1"><div class="text-gray-500">Firma</div><div class="col-span-3">{{ bid.company.name }}</div></div>
    </div>
  </div>
</div>
{% endblock %}


